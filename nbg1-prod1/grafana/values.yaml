grafana:
  # Enable Prometheus metrics scraping
  podAnnotations:
    prometheus.io/scrape: "true"
    prometheus.io/port: "3000"
    prometheus.io/path: "/metrics"

  deploymentStrategy:
    type: Recreate
  grafana.ini:
    server:
      domain: grafana.marlin-tet.ts.net
      root_url: "%(protocol)s://%(domain)s"
    feature_toggles:
      provisioning: true
      kubernetesDashboards: true
  admin:
    existingSecret: grafana-admin
    userKey: username
    passwordKey: password
  persistence:
    enabled: true
    size: 500Mi
  initChownData:
    enabled: false
  ingress:
    enabled: false
    ingressClassName: tailscale
    hosts:
      - grafana
    paths:
      - /
    tls:
      - secretName: grafana-tls
        hosts:
          - grafana
  resources:
    requests:
      cpu: 100m
      memory: 300Mi
    limits:
      memory: 500Mi
